# Desktop Organizer UI é‡æ„è®¾è®¡è§„èŒƒ

## è®¾è®¡ç›®æ ‡

- **æç®€åŒ–**ï¼šå‡å°‘ç”¨æˆ·å­¦ä¹ æˆæœ¬ï¼Œä¸“æ³¨æ ¸å¿ƒåŠŸèƒ½
- **è‡ªç„¶äº¤äº’**ï¼šç”¨æ–‡å­—æè¿°æ›¿ä»£å¤æ‚é…ç½®ç•Œé¢
- **æµç¨‹ä¼˜åŒ–**ï¼šç®€åŒ–ä¸º4æ­¥æ“ä½œæµç¨‹
- **ç°ä»£åŒ–**ï¼šæ¸…çˆ½çš„è§†è§‰è®¾è®¡å’Œå‹å¥½çš„äº¤äº’ä½“éªŒ

## æ–°ç•Œé¢ç»“æ„

### ä¸»ç•Œé¢ (MainForm)

#### å¸ƒå±€ç»“æ„
```
â”Œâ”€ æ ‡é¢˜æ  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Desktop Organizer        [è®¾ç½®] [å¸®åŠ©] [æœ€å°åŒ–] [å…³é—­] â”‚
â”œâ”€ ä¸»å†…å®¹åŒº â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚ ğŸ“ å½“å‰æ¡Œé¢æ–‡ä»¶ï¼š XX ä¸ªæ–‡ä»¶                  â”‚
â”‚                                              â”‚
â”‚ â”Œâ”€ åå¥½è¾“å…¥åŒº â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ’¬ å‘Šè¯‰æˆ‘ä½ çš„æ•´ç†åå¥½ï¼š                    â”‚ â”‚
â”‚ â”‚ [å¤§æ–‡æœ¬æ¡† - å¤šè¡Œè¾“å…¥]                      â”‚ â”‚
â”‚ â”‚                      [æ¸…ç©º] [ä½¿ç”¨æ¨¡æ¿â–¼]    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                              â”‚
â”‚             [ğŸš€ å¼€å§‹æ•´ç†] (å¤§æŒ‰é’®)           â”‚
â”‚                                              â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                              â”‚
â”‚ ğŸ“Š æ•´ç†è®¡åˆ’é¢„è§ˆï¼š                           â”‚
â”‚ [é¢„è§ˆå¡ç‰‡åŒºåŸŸ - FlowLayoutPanel]             â”‚
â”‚                                              â”‚
â”‚ [âœï¸è°ƒæ•´è®¡åˆ’] [âœ…æ‰§è¡Œæ•´ç†] [â†¶æ’¤é”€æ“ä½œ]        â”‚
â”‚                                              â”‚
â”‚ [è¿›åº¦æ¡å’ŒçŠ¶æ€ä¿¡æ¯]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ§ä»¶è§„æ ¼

1. **æ–‡ä»¶æ•°é‡æ˜¾ç¤º**
   - Labelï¼Œå¤§å­—ä½“ï¼Œå›¾æ ‡ + æ–‡å­—
   - å®æ—¶æ›´æ–°æ¡Œé¢æ–‡ä»¶æ•°é‡

2. **åå¥½è¾“å…¥åŒº**
   - GroupBox åŒ…è£…
   - TextBoxï¼šå¤šè¡Œï¼Œè‡ªåŠ¨æ¢è¡Œï¼Œå æ®ä¸»è¦ç©ºé—´
   - Buttonï¼šæ¸…ç©ºæŒ‰é’®
   - ComboBoxï¼šæ¨¡æ¿ä¸‹æ‹‰é€‰æ‹©

3. **å¼€å§‹æ•´ç†æŒ‰é’®**
   - å¤§å‹æŒ‰é’®ï¼Œå±…ä¸­æ˜¾ç¤º
   - å›¾æ ‡ + æ–‡å­—ï¼Œæ˜æ˜¾çš„è§†è§‰ç„¦ç‚¹

4. **é¢„è§ˆåŒºåŸŸ**
   - FlowLayoutPanel å¸ƒå±€
   - è‡ªå®šä¹‰ UserControl æ˜¾ç¤ºæ–‡ä»¶å¤¹å¡ç‰‡

5. **æ“ä½œæŒ‰é’®ç»„**
   - ä¸‰ä¸ªå¹¶æ’æŒ‰é’®
   - æ ¹æ®çŠ¶æ€å¯ç”¨/ç¦ç”¨

### è®¾ç½®çª—å£ (SettingsForm)

#### æ ‡ç­¾é¡µè®¾è®¡
- **AIæ¨¡å‹** - æ¨¡å‹é€‰æ‹©ã€APIå¯†é’¥é…ç½®
- **ç•Œé¢è®¾ç½®** - è¯­è¨€ã€ä¸»é¢˜ã€ç•Œé¢é€‰é¡¹
- **æ¨¡æ¿ç®¡ç†** - åå¥½æ¨¡æ¿çš„å¢åˆ æ”¹
- **é«˜çº§é€‰é¡¹** - æ—¥å¿—çº§åˆ«ã€è¶…æ—¶è®¾ç½®ç­‰

## æ–°å¢ç»„ä»¶è®¾è®¡

### 1. PreferenceTemplateManager
```csharp
public class PreferenceTemplateManager
{
    public List<PreferenceTemplate> Templates { get; set; }
    public void LoadDefaultTemplates();
    public void SaveCustomTemplate(string name, string content);
    public void DeleteTemplate(string name);
}

public class PreferenceTemplate
{
    public string Name { get; set; }
    public string Description { get; set; }
    public string Content { get; set; }
    public bool IsBuiltIn { get; set; }
}
```

### 2. FolderPreviewCard (UserControl)
```csharp
public partial class FolderPreviewCard : UserControl
{
    public string FolderName { get; set; }
    public List<string> FileList { get; set; }
    public bool KeepOnDesktop { get; set; }
    public event EventHandler<FolderCardEventArgs> CardClicked;
}
```

### 3. SimplifiedProgressIndicator
```csharp
public partial class SimplifiedProgressIndicator : UserControl
{
    public string StatusText { get; set; }
    public int ProgressPercentage { get; set; }
    public bool ShowCancelButton { get; set; }
    public event EventHandler CancelRequested;
}
```

## æ•°æ®æµæ›´æ–°

### åå¥½å¤„ç†é€»è¾‘
```csharp
public class PreferenceProcessor
{
    public string CombineWithPrompt(string userPreference, List<Item> items)
    {
        var systemPrompt = GetSystemPrompt();
        var fileContext = GenerateFileContext(items);
        var userContext = $"ç”¨æˆ·åå¥½ï¼š{userPreference}";
        
        return $"{systemPrompt}\n\n{fileContext}\n\n{userContext}";
    }
}
```

### çŠ¶æ€ç®¡ç†ç®€åŒ–
```csharp
public enum AppState
{
    Ready,          // å‡†å¤‡çŠ¶æ€ï¼Œå¯ä»¥è¾“å…¥åå¥½
    Processing,     // AI åˆ†æä¸­
    PreviewReady,   // é¢„è§ˆå‡†å¤‡å¥½ï¼Œå¯ä»¥è°ƒæ•´å’Œæ‰§è¡Œ
    Executing,      // æ‰§è¡Œä¸­
    Completed       // å®Œæˆï¼Œå¯ä»¥æ’¤é”€
}
```

## è§†è§‰è®¾è®¡è§„èŒƒ

### è‰²å½©æ–¹æ¡ˆ
- **ä¸»è‰²è°ƒ**ï¼š#2563EB (è“è‰²)
- **æˆåŠŸè‰²**ï¼š#059669 (ç»¿è‰²)
- **è­¦å‘Šè‰²**ï¼š#D97706 (æ©™è‰²)
- **èƒŒæ™¯è‰²**ï¼š#F9FAFB (æµ…ç°)
- **æ–‡å­—è‰²**ï¼š#1F2937 (æ·±ç°)

### å­—ä½“è§„èŒƒ
- **æ ‡é¢˜**ï¼šå¾®è½¯é›…é»‘ 14pt Bold
- **æ­£æ–‡**ï¼šå¾®è½¯é›…é»‘ 10pt Regular
- **æŒ‰é’®**ï¼šå¾®è½¯é›…é»‘ 11pt Medium

### é—´è·è§„èŒƒ
- **é¡µè¾¹è·**ï¼š20px
- **ç»„ä»¶é—´è·**ï¼š15px
- **æŒ‰é’®é«˜åº¦**ï¼š35px
- **å¤§æŒ‰é’®é«˜åº¦**ï¼š45px

## äº¤äº’è¡Œä¸ºè§„èŒƒ

### çŠ¶æ€è½¬æ¢
1. **å¯åŠ¨** â†’ è‡ªåŠ¨æ‰«ææ¡Œé¢ â†’ **Ready**
2. **Ready** + ç‚¹å‡»å¼€å§‹æ•´ç† â†’ **Processing**
3. **Processing** + AIå®Œæˆ â†’ **PreviewReady**
4. **PreviewReady** + ç‚¹å‡»æ‰§è¡Œ â†’ **Executing**
5. **Executing** + å®Œæˆ â†’ **Completed**

### ç”¨æˆ·åé¦ˆ
- **åŠ è½½çŠ¶æ€**ï¼šè¿›åº¦æ¡ + çŠ¶æ€æ–‡å­—
- **é”™è¯¯å¤„ç†**ï¼šToast é€šçŸ¥ + è¯¦ç»†é”™è¯¯å¯¹è¯æ¡†
- **æ“ä½œç¡®è®¤**ï¼šé‡è¦æ“ä½œå‰æ˜¾ç¤ºç¡®è®¤å¯¹è¯æ¡†

### é”®ç›˜å¿«æ·é”®
- **Ctrl+Enter**ï¼šå¼€å§‹æ•´ç†
- **Ctrl+Z**ï¼šæ’¤é”€æ“ä½œ
- **F5**ï¼šåˆ·æ–°æ¡Œé¢æ‰«æ
- **Ctrl+,**ï¼šæ‰“å¼€è®¾ç½®

## å¯è®¿é—®æ€§è¦æ±‚

- æ‰€æœ‰æ§ä»¶æ”¯æŒé”®ç›˜å¯¼èˆª
- é‡è¦æ“ä½œæœ‰å·¥å…·æç¤º
- æ”¯æŒé«˜å¯¹æ¯”åº¦ä¸»é¢˜
- æ–‡å­—å¤§å°å¯è°ƒèŠ‚

## æ€§èƒ½ä¼˜åŒ–

- æ¡Œé¢æ‰«æå¼‚æ­¥æ‰§è¡Œï¼Œä¸é˜»å¡UI
- é¢„è§ˆå¡ç‰‡æ‡’åŠ è½½
- å¤§é‡æ–‡ä»¶æ—¶åˆ†é¡µæ˜¾ç¤º
- å†…å­˜ä½¿ç”¨ä¼˜åŒ–ï¼ŒåŠæ—¶é‡Šæ”¾èµ„æº

---

*æ­¤æ–‡æ¡£å®šä¹‰äº†Desktop Organizer UIé‡æ„çš„å®Œæ•´è§„èŒƒï¼Œæ‰€æœ‰å¼€å‘å·¥ä½œåº”éµå¾ªæ­¤è®¾è®¡ã€‚*